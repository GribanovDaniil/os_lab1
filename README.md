# os_lab1
#  Лабораторная работа по написанию первого Ansible скрипта
### Конфигурационного файл
1. Указываем inventory файл
2. Указываем пользователя, с которомы мы работаем
3. Нужно ли осуществлять host_key_checking
4. Парметр defualt_transport. (параемтр smart ставит автоматическое переключение ммежду ssh и paramiko в зависимости от ОС)

### Создание inventory файла
Для подключения к хосту Nginx необходимо передать множество параметров, что является особенностью Vagrant. Вы можете узнать эти параметры, используя команду vagrant ssh-config. После того, как вы выполните эту команду, необходимо ввести полученные данные в inventory файл, указав имя хоста, IP-адрес и путь до приватного ключа Ansible.

### Playbook epel
Написан epel playbook, который выполняет задачу установки пакетов репозиториев epel.

### Playbook nginx
Скачивает epel репозитории и создает конфигурационный файл по шаблону.
В качестве заголовка указывается перезапуск.

### Шаблон для конфига nginx
Был создан шаблон для конфигурационного файла. В нем указаны такие параметры сервера как root, location, прослушиваемый порт.


## Запуск скриптов
#### Этап 1. Нужно удостовериться, что виртуальная мащина работает
Для этого написать команду "vagrant status"
Если результат "running", то этот пункт выполнен
#### Этап 2. Проверить, что конфигурационный файл и inventory заполенен корректными данными 
Для этого можно прописать команду "vagrant ssh-config" и проверить соответсвие данных с тем, что написано в ansible.cfg и inventory
#### Этап 3. Запуск epel.yml
Для этого необходимо прописать в терминале команду "ansible-playbook epel.yml"
Результат должен быть:
"nginx                      : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0"
#### Этап 4. Запуск nginx.yml
Для запуска файла нужно прописать команду "ansible-playbook nginx.yml"
Результат должен быть:
"nginx                      : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0"

## Результат
Открываем сайт по адресу <http://192.168.11.150:8080>
